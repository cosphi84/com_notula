CREATE TABLE IF NOT EXISTS `#__meeting` (
  `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `asset_id` INT(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'FK to the #__assets table.',
  `title` VARCHAR(255) COLLATE UTF8MB4_UNICODE_CI NOT NULL DEFAULT '',
  `alias` VARCHAR(400) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '',
  `meeting_time` DATETIME NOT NULL,
  `venue` VARCHAR(200) NOT NULL,
  `presented_by` VARCHAR(200) NOT NULL,
  `notulen` MEDIUMTEXT COLLATE UTF8MB4_UNICODE_CI NOT NULL,
  `state`  TINYINT(4) NOT NULL DEFAULT 0,
  `catid` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  `created` DATETIME NOT NULL,
  `created_by` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  `created_by_alias` VARCHAR(255) COLLATE UTF8MB4_UNICODE_CI NOT NULL DEFAULT '',
  `modified` DATETIME NOT NULL,
  `modified_by` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  `checked_out` INT(10) UNSIGNED DEFAULT NULL,
  `checked_out_time` DATETIME DEFAULT NULL,
  `publish_up` DATETIME DEFAULT NULL,
  `publish_down` DATETIME DEFAULT NULL,
  `attribs` VARCHAR(5120) COLLATE UTF8MB4_UNICODE_CI NOT NULL,
  `version` INT(10) UNSIGNED NOT NULL DEFAULT 1,
  `ordering` INT(11) NOT NULL DEFAULT 0,
  `access` INT(10) UNSIGNED NOT NULL DEFAULT 0,
  `metadata` TEXT COLLATE UTF8MB4_UNICODE_CI NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_access` (`access`),
  KEY `idx_checkout` (`checked_out`),
  KEY `idx_state` (`state`),
  KEY `idx_catid` (`catid`),
  KEY `idx_createdby` (`created_by`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=UTF8MB4_UNICODE_CI;

CREATE TABLE IF NOT EXISTS `#__meeting_participant` (
    `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `meeting_id` INT UNSIGNED NOT NULL,
    `user_id` INT NULL DEFAULT NULL,
    `name` VARCHAR(200) NULL DEFAULT null,
    `position` VARCHAR(200) NOT NULL,
    `source` TINYINT NOT NULL DEFAULT 0,
    `tranport_fee` INT UNSIGNED NOT NULL DEFAULT 0,
    PRIMARY KEY(`id`),
    CONSTRAINT `meet_id` FOREIGN KEY (`meeting_id`) REFERENCES `#__meeting` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=UTF8MB4_UNICODE_CI;
